â— ğŸ”— SystÃ¨me de Liaison Ã‰tudiant-Parent dans Claudyne

  AprÃ¨s analyse des modÃ¨les de donnÃ©es, voici comment fonctionne la liaison entre comptes
  Ã‰tudiants et Parents :

  ğŸ“Š Structure de Liaison

  ğŸ  FAMILLE (Family) â†â†’ ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ UTILISATEURS (User) â†â†’ ğŸ“ Ã‰TUDIANTS (Student)       

  Family {
    id: UUID (Primary Key)
    name: "Nom de famille"
    maxMembers: 6 (dÃ©faut)
    currentMembersCount: INT
  }

  User {
    id: UUID (Primary Key)
    role: 'PARENT' | 'STUDENT' | 'ADMIN'
    familyId: UUID (Foreign Key â†’ Family.id)
  }

  Student {
    id: UUID (Primary Key)
    familyId: UUID (Foreign Key â†’ Family.id)
    userId: UUID (Nullable, Foreign Key â†’ User.id)
    firstName: STRING
    lastName: STRING
  }

  ğŸ”‘ Points de Liaison ClÃ©s

  1. Famille â†’ Utilisateurs : User.familyId â†’ Family.id
  2. Famille â†’ Ã‰tudiants : Student.familyId â†’ Family.id
  3. Utilisateur â†’ Ã‰tudiant : Student.userId â†’ User.id (optionnel)

  ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ScÃ©narios de Liaison

  ğŸŸ¢ PARENT PRINCIPAL
  Parent {
    role: 'PARENT',
    familyId: 'famille-uuid-123'
  }
  â†’ Peut gÃ©rer tous les Ã©tudiants de la famille

  ğŸŸ¡ Ã‰TUDIANT MAJEUR (avec compte)
  EtudiantUser {
    role: 'STUDENT',
    familyId: 'famille-uuid-123'
  }
  â†”
  StudentProfile {
    familyId: 'famille-uuid-123',
    userId: 'user-uuid-456'  // LiÃ© au compte utilisateur
  }

  ğŸ”µ ENFANT MINEUR (sans compte)
  StudentProfile {
    familyId: 'famille-uuid-123',
    userId: null  // Pas de compte utilisateur dÃ©diÃ©
  }
  â†’ GÃ©rÃ© par le parent via familyId

  ğŸ“‹ Comment Identifier les Liaisons

  SQL pour trouver Ã©tudiants d'un parent :
  SELECT s.*, u.firstName as parent_name
  FROM students s
  JOIN families f ON s.familyId = f.id
  JOIN users u ON u.familyId = f.id
  WHERE u.role = 'PARENT'
  AND u.id = :parentUserId;

  SQL pour trouver parent d'un Ã©tudiant :
  SELECT u.*
  FROM users u
  JOIN students s ON u.familyId = s.familyId
  WHERE s.id = :studentId
  AND u.role = 'PARENT';

  ğŸ› ï¸ Interfaces de Gestion

  Interface Admin : Voir toutes les familles et leurs membres
  Interface Parent : GÃ©rer les Ã©tudiants de sa famille uniquementInterface Ã‰tudiant : AccÃ¨s    
   Ã  son profil via userId ou gestion parent

  Cette architecture permet une gestion flexible des familles avec jusqu'Ã  6 membres par       
  famille !
