<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interface Enseignant - Claudyne</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #F8FAFC;
            color: #1F2937;
        }

        .teacher-container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: linear-gradient(135deg, #3B82F6, #1E40AF);
            color: white;
            padding: 0;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }

        .sidebar-header {
            padding: 2rem 1.5rem 1rem;
            border-bottom: 1px solid #3B82F6;
            text-align: center;
        }

        .teacher-logo {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .teacher-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.25rem;
        }

        .teacher-subtitle {
            font-size: 0.8rem;
            opacity: 0.7;
        }

        .nav-menu {
            list-style: none;
            padding: 1rem 0;
        }

        .nav-item {
            margin-bottom: 0.5rem;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 0.75rem 1.5rem;
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .nav-link:hover, .nav-link.active {
            background: rgba(59, 130, 246, 0.3);
            border-right: 3px solid #10B981;
        }

        .nav-icon {
            font-size: 1.2rem;
            margin-right: 0.75rem;
            width: 20px;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 280px;
            padding: 2rem;
        }

        .page-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #E5E7EB;
        }

        .page-title {
            font-size: 2rem;
            font-weight: bold;
            color: #1F2937;
        }

        .page-description {
            color: #6B7280;
            margin-top: 0.5rem;
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border-left: 4px solid;
        }

        .stat-card.primary { border-left-color: #3B82F6; }
        .stat-card.secondary { border-left-color: #10B981; }
        .stat-card.warning { border-left-color: #F59E0B; }
        .stat-card.danger { border-left-color: #EF4444; }

        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .stat-title {
            color: #6B7280;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .stat-icon {
            font-size: 1.5rem;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #1F2937;
        }

        .stat-change {
            font-size: 0.75rem;
            margin-top: 0.5rem;
        }

        .stat-change.positive { color: #10B981; }
        .stat-change.negative { color: #EF4444; }

        /* Content Sections */
        .content-section {
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            overflow: hidden;
        }

        .section-header {
            padding: 1.5rem;
            border-bottom: 1px solid #E5E7EB;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .section-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1F2937;
        }

        .section-content {
            padding: 1.5rem;
        }

        /* Buttons */
        .btn {
            display: inline-block;
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 6px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #3B82F6;
            color: white;
        }

        .btn-primary:hover {
            background: #2563EB;
        }

        .btn-secondary {
            background: #6B7280;
            color: white;
        }

        .btn-secondary:hover {
            background: #4B5563;
        }

        .btn-success {
            background: #10B981;
            color: white;
        }

        .btn-success:hover {
            background: #059669;
        }

        .btn-sm {
            padding: 0.375rem 0.75rem;
            font-size: 0.75rem;
        }

        /* Tables */
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th,
        .data-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #E5E7EB;
        }

        .data-table th {
            background: #F9FAFB;
            font-weight: 600;
            color: #374151;
            font-size: 0.875rem;
        }

        .data-table tr:hover {
            background: #F9FAFB;
        }

        /* Status Badges */
        .status-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .status-badge.published {
            background: #D1FAE5;
            color: #065F46;
        }

        .status-badge.draft {
            background: #FEF3C7;
            color: #92400E;
        }

        .status-badge.pending {
            background: #DBEAFE;
            color: #1E40AF;
        }

        .status-badge.excellent {
            background: #D1FAE5;
            color: #065F46;
        }

        .status-badge.good {
            background: #DBEAFE;
            color: #1E40AF;
        }

        .status-badge.needs-improvement {
            background: #FEE2E2;
            color: #991B1B;
        }

        /* Loading */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3B82F6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .hidden {
            display: none;
        }

        /* Form Styles */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #374151;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 0.5rem;
            border: 1px solid #D1D5DB;
            border-radius: 6px;
            font-size: 0.875rem;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        /* Progress Bar */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #E5E7EB;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3B82F6, #10B981);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* File Upload */
        .file-upload {
            border: 2px dashed #D1D5DB;
            border-radius: 8px;
            padding: 2rem;
            text-align: center;
            background: #F9FAFB;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .file-upload:hover {
            border-color: #3B82F6;
            background: #EFF6FF;
        }

        .file-upload.dragover {
            border-color: #10B981;
            background: #ECFDF5;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                position: static;
                height: auto;
            }

            .main-content {
                margin-left: 0;
                padding: 1rem;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="teacher-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="teacher-logo">üë®‚Äçüè´</div>
                <div class="teacher-title">Espace Enseignant</div>
                <div class="teacher-subtitle" id="teacher-name">Prof. Marie Ndongo</div>
            </div>

            <nav>
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a class="nav-link active" href="#" onclick="showSection('dashboard')">
                            <span class="nav-icon">üìä</span>
                            Tableau de bord
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('content-creation')">
                            <span class="nav-icon">üìù</span>
                            Cr√©ation de contenu
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('student-tracking')">
                            <span class="nav-icon">üë•</span>
                            Suivi des √©tudiants
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('feedback-corrections')">
                            <span class="nav-icon">‚úçÔ∏è</span>
                            Corrections & Feedback
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('virtual-classroom')">
                            <span class="nav-icon">üé•</span>
                            Classe virtuelle
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('gamification')">
                            <span class="nav-icon">üèÜ</span>
                            Gamification
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('reports')">
                            <span class="nav-icon">üìà</span>
                            Rapports
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" onclick="showSection('settings')">
                            <span class="nav-icon">‚öôÔ∏è</span>
                            Param√®tres
                        </a>
                    </li>
                    <li class="nav-item" style="margin-top: 2rem; border-top: 1px solid rgba(255,255,255,0.2); padding-top: 1rem;">
                        <a class="nav-link" href="javascript:void(0)" onclick="teacherLogout()" style="color: #F87171 !important;">
                            <span class="nav-icon">üö™</span>
                            Se d√©connecter
                        </a>
                    </li>
                </ul>
            </nav>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Dashboard Section -->
            <div id="dashboard-section" class="section">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Tableau de bord Enseignant</h1>
                        <p class="page-description">Vue d'ensemble de vos activit√©s p√©dagogiques</p>
                    </div>
                </div>

                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card primary">
                        <div class="stat-header">
                            <span class="stat-title">√âtudiants Actifs</span>
                            <span class="stat-icon">üë®‚Äçüéì</span>
                        </div>
                        <div class="stat-value" id="active-students">-</div>
                        <div class="stat-change positive">+8 cette semaine</div>
                    </div>

                    <div class="stat-card secondary">
                        <div class="stat-header">
                            <span class="stat-title">Cours Publi√©s</span>
                            <span class="stat-icon">üìö</span>
                        </div>
                        <div class="stat-value" id="published-courses">-</div>
                        <div class="stat-change positive">+3 ce mois</div>
                    </div>

                    <div class="stat-card warning">
                        <div class="stat-header">
                            <span class="stat-title">Quiz Compl√©t√©s</span>
                            <span class="stat-icon">‚úÖ</span>
                        </div>
                        <div class="stat-value" id="completed-quizzes">-</div>
                        <div class="stat-change positive">+15% cette semaine</div>
                    </div>

                    <div class="stat-card danger">
                        <div class="stat-header">
                            <span class="stat-title">Score Moyen</span>
                            <span class="stat-icon">üìä</span>
                        </div>
                        <div class="stat-value" id="average-score">-</div>
                        <div class="stat-change positive">+2.3% ce mois</div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">Activit√© r√©cente</h2>
                        <button class="btn btn-primary btn-sm" onclick="refreshActivity()">üîÑ Actualiser</button>
                    </div>
                    <div class="section-content">
                        <div id="recent-activity">
                            <div class="loading"></div> Chargement des activit√©s...
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">Actions rapides</h2>
                    </div>
                    <div class="section-content">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                            <button class="btn btn-primary" onclick="showSection('content-creation')" style="padding: 1rem; height: auto;">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">üìù</div>
                                <div>Nouveau Cours</div>
                            </button>
                            <button class="btn btn-success" onclick="createQuiz()" style="padding: 1rem; height: auto;">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">‚ùì</div>
                                <div>Nouveau Quiz</div>
                            </button>
                            <button class="btn btn-secondary" onclick="showSection('student-tracking')" style="padding: 1rem; height: auto;">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">üë•</div>
                                <div>Voir √âtudiants</div>
                            </button>
                            <button class="btn btn-primary" onclick="startLiveClass()" style="padding: 1rem; height: auto;">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">üé•</div>
                                <div>Classe Live</div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Content Creation Section -->
            <div id="content-creation-section" class="section hidden">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Cr√©ation de contenu</h1>
                        <p class="page-description">Cr√©ez et g√©rez vos cours, vid√©os et quiz</p>
                    </div>
                </div>

                <!-- Content Creation Form -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">Nouveau contenu p√©dagogique</h2>
                        <button class="btn btn-primary" onclick="publishContent()">üì§ Publier</button>
                    </div>
                    <div class="section-content">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="content-title">Titre du cours</label>
                                <input type="text" id="content-title" placeholder="Ex: Les fractions - Niveau CE2">
                            </div>
                            <div class="form-group">
                                <label for="content-subject">Mati√®re</label>
                                <select id="content-subject">
                                    <option value="mathematics">Math√©matiques</option>
                                    <option value="french">Fran√ßais</option>
                                    <option value="english">Anglais</option>
                                    <option value="sciences">Sciences</option>
                                    <option value="history">Histoire-G√©ographie</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="content-level">Niveau</label>
                                <select id="content-level">
                                    <option value="6eme">6√®me</option>
                                    <option value="5eme">5√®me</option>
                                    <option value="4eme">4√®me</option>
                                    <option value="3eme">3√®me</option>
                                    <option value="seconde">Seconde</option>
                                    <option value="premiere">Premi√®re</option>
                                    <option value="terminale">Terminale</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="content-duration">Dur√©e estim√©e (min)</label>
                                <input type="number" id="content-duration" placeholder="45" min="5" max="120">
                            </div>
                        </div>

                        <div class="form-group" style="margin-bottom: 1rem;">
                            <label for="content-description">Description du cours</label>
                            <textarea id="content-description" placeholder="D√©crivez les objectifs et le contenu de ce cours..."></textarea>
                        </div>

                        <!-- File Upload Area -->
                        <div class="file-upload" onclick="document.getElementById('file-input').click()">
                            <input type="file" id="file-input" multiple accept=".pdf,.doc,.docx,.ppt,.pptx,.mp4,.mp3,.jpg,.png" style="display: none;" onchange="handleFileUpload(event)">
                            <div style="font-size: 3rem; margin-bottom: 1rem;">üìÅ</div>
                            <h3>Glissez vos fichiers ici ou cliquez pour s√©lectionner</h3>
                            <p style="color: #6B7280; margin-top: 0.5rem;">Documents, vid√©os, images (PDF, DOC, MP4, JPG...)</p>
                        </div>

                        <div id="uploaded-files" style="margin-top: 1rem;"></div>

                        <div style="margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid #E5E7EB;">
                            <div style="display: flex; gap: 1rem; align-items: center;">
                                <button class="btn btn-primary" onclick="saveAsDraft()">üíæ Sauvegarder brouillon</button>
                                <button class="btn btn-success" onclick="publishContent()">üöÄ Publier maintenant</button>
                                <label style="display: flex; align-items: center; cursor: pointer;">
                                    <input type="checkbox" id="notify-students" style="margin-right: 0.5rem;">
                                    Notifier les √©tudiants
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Existing Content -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">Mes contenus</h2>
                        <select id="content-filter" style="padding: 0.375rem 0.75rem; border: 1px solid #D1D5DB; border-radius: 6px;">
                            <option value="all">Tous les statuts</option>
                            <option value="published">Publi√©s</option>
                            <option value="draft">Brouillons</option>
                            <option value="pending">En attente</option>
                        </select>
                    </div>
                    <div class="section-content">
                        <div id="content-list">
                            <div class="loading"></div> Chargement de vos contenus...
                        </div>
                    </div>
                </div>
            </div>

            <!-- Other sections will be added here -->
            <div id="student-tracking-section" class="section hidden">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Suivi des √©tudiants</h1>
                        <p class="page-description">Progression, scores et engagement de vos √©tudiants</p>
                    </div>
                </div>

                <!-- Student List -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">Liste des √©tudiants</h2>
                        <button class="btn btn-primary btn-sm" onclick="exportStudentData()">üìä Exporter donn√©es</button>
                    </div>
                    <div class="section-content">
                        <div id="student-list-table">
                            <div class="loading"></div> Chargement de la liste des √©tudiants...
                        </div>
                    </div>
                </div>
            </div>

            <!-- Add other sections here... -->
            <div id="feedback-corrections-section" class="section hidden">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Corrections & Feedback</h1>
                        <p class="page-description">Donnez des commentaires personnalis√©s √† vos √©tudiants</p>
                    </div>
                </div>
                <!-- Content for feedback section -->
            </div>

            <div id="virtual-classroom-section" class="section hidden">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Classe virtuelle</h1>
                        <p class="page-description">Sessions en direct et visioconf√©rence</p>
                    </div>
                </div>
                <!-- Content for virtual classroom -->
            </div>

            <div id="gamification-section" class="section hidden">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Gamification</h1>
                        <p class="page-description">Attribution de badges, points et r√©compenses</p>
                    </div>
                </div>
                <!-- Content for gamification -->
            </div>

            <div id="reports-section" class="section hidden">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Rapports p√©dagogiques</h1>
                        <p class="page-description">Statistiques par classe et mati√®re</p>
                    </div>
                </div>
                <!-- Content for reports -->
            </div>

            <!-- Settings Section -->
            <div id="settings-section" class="section hidden">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">‚öôÔ∏è Param√®tres de l'enseignant</h1>
                        <p class="page-description">Configuration de votre profil et pr√©f√©rences</p>
                    </div>
                </div>

                <div style="display: grid; gap: 2rem; max-width: 800px;">
                    <!-- Profil enseignant -->
                    <div class="stats-card">
                        <h3 style="color: #1F2937; margin-bottom: 1.5rem; display: flex; align-items: center;">
                            <span style="margin-right: 0.5rem;">üë®‚Äçüè´</span>
                            Profil enseignant
                        </h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Nom complet</label>
                                <input type="text" id="teacherName" value="Prof. Marie Ndongo" style="width: 100%; padding: 0.75rem; border: 1px solid #D1D5DB; border-radius: 6px;">
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Email</label>
                                <input type="email" id="teacherEmail" value="marie.ndongo@claudyne.edu" style="width: 100%; padding: 0.75rem; border: 1px solid #D1D5DB; border-radius: 6px;">
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Mati√®re principale</label>
                                <select id="teacherSubject" style="width: 100%; padding: 0.75rem; border: 1px solid #D1D5DB; border-radius: 6px;">
                                    <option>Math√©matiques</option>
                                    <option>Fran√ßais</option>
                                    <option>Sciences</option>
                                    <option>Histoire-G√©ographie</option>
                                    <option>Anglais</option>
                                </select>
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Niveau d'enseignement</label>
                                <select id="teacherLevel" style="width: 100%; padding: 0.75rem; border: 1px solid #D1D5DB; border-radius: 6px;">
                                    <option>Primaire</option>
                                    <option>Coll√®ge</option>
                                    <option>Lyc√©e</option>
                                    <option>Universit√©</option>
                                </select>
                            </div>
                        </div>
                        <div style="margin-top: 1.5rem;">
                            <button onclick="saveTeacherProfile()" style="
                                background: linear-gradient(135deg, #3B82F6, #1E40AF);
                                color: white;
                                border: none;
                                padding: 0.75rem 1.5rem;
                                border-radius: 6px;
                                font-weight: 500;
                                cursor: pointer;
                            ">
                                üíæ Sauvegarder le profil
                            </button>
                        </div>
                    </div>

                    <!-- S√©curit√© -->
                    <div class="stats-card">
                        <h3 style="color: #1F2937; margin-bottom: 1.5rem; display: flex; align-items: center;">
                            <span style="margin-right: 0.5rem;">üîê</span>
                            S√©curit√© du compte
                        </h3>
                        <div style="display: grid; gap: 1rem;">
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Mot de passe actuel</label>
                                <input type="password" id="currentPasswordTeacher" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" style="width: 100%; padding: 0.75rem; border: 1px solid #D1D5DB; border-radius: 6px;">
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Nouveau mot de passe</label>
                                <input type="password" id="newPasswordTeacher" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" style="width: 100%; padding: 0.75rem; border: 1px solid #D1D5DB; border-radius: 6px;">
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Confirmer nouveau mot de passe</label>
                                <input type="password" id="confirmPasswordTeacher" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" style="width: 100%; padding: 0.75rem; border: 1px solid #D1D5DB; border-radius: 6px;">
                            </div>
                            <button onclick="changeTeacherPassword()" style="
                                background: linear-gradient(135deg, #10B981, #059669);
                                color: white;
                                border: none;
                                padding: 0.75rem 1.5rem;
                                border-radius: 6px;
                                font-weight: 500;
                                cursor: pointer;
                                width: fit-content;
                            ">
                                üîë Changer le mot de passe
                            </button>
                        </div>
                    </div>

                    <!-- Pr√©f√©rences -->
                    <div class="stats-card">
                        <h3 style="color: #1F2937; margin-bottom: 1.5rem; display: flex; align-items: center;">
                            <span style="margin-right: 0.5rem;">üéØ</span>
                            Pr√©f√©rences d'enseignement
                        </h3>
                        <div style="display: grid; gap: 1rem;">
                            <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: #F9FAFB; border-radius: 6px;">
                                <span>Notifications par email</span>
                                <input type="checkbox" id="emailNotifications" checked style="transform: scale(1.2);">
                            </div>
                            <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: #F9FAFB; border-radius: 6px;">
                                <span>Mode sombre</span>
                                <input type="checkbox" id="darkMode" style="transform: scale(1.2);">
                            </div>
                            <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: #F9FAFB; border-radius: 6px;">
                                <span>Notifications de nouveaux √©tudiants</span>
                                <input type="checkbox" id="studentNotifications" checked style="transform: scale(1.2);">
                            </div>
                        </div>
                        <div style="margin-top: 1.5rem;">
                            <button onclick="saveTeacherPreferences()" style="
                                background: linear-gradient(135deg, #8B5CF6, #7C3AED);
                                color: white;
                                border: none;
                                padding: 0.75rem 1.5rem;
                                border-radius: 6px;
                                font-weight: 500;
                                cursor: pointer;
                            ">
                                üíæ Sauvegarder les pr√©f√©rences
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const API_BASE = 'https://claudyne.com';
        let currentSection = 'dashboard';
        let uploadedFiles = [];
        let currentTeacher = null;

        // Navigation entre sections
        function showSection(sectionName) {
            // Masquer toutes les sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });

            // Afficher la section demand√©e
            document.getElementById(sectionName + '-section').classList.remove('hidden');

            // Mettre √† jour la navigation
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            event.target.classList.add('active');

            // Charger les donn√©es de la section
            loadSectionData(sectionName);
            currentSection = sectionName;
        }

        // Chargement des donn√©es par section
        async function loadSectionData(section) {
            switch (section) {
                case 'dashboard':
                    await loadTeacherDashboard();
                    break;
                case 'content-creation':
                    await loadTeacherContent();
                    break;
                case 'student-tracking':
                    await loadStudentTracking();
                    break;
            }
        }

        // Load Teacher Dashboard
        async function loadTeacherDashboard() {
            try {
                const response = await fetch(`${API_BASE}/api/teacher/dashboard`);
                const data = await response.json();

                if (data.success) {
                    document.getElementById('active-students').textContent = data.data.stats.activeStudents;
                    document.getElementById('published-courses').textContent = data.data.stats.publishedCourses;
                    document.getElementById('completed-quizzes').textContent = data.data.stats.completedQuizzes;
                    document.getElementById('average-score').textContent = data.data.stats.averageScore + '%';

                    // Recent activity
                    const activityHtml = data.data.recentActivity.map(activity => `
                        <div style="padding: 0.75rem 0; border-bottom: 1px solid #E5E7EB; display: flex; align-items: center; gap: 1rem;">
                            <div style="width: 40px; height: 40px; border-radius: 50%; background: #EFF6FF; display: flex; align-items: center; justify-content: center; font-size: 1.25rem;">
                                ${activity.icon}
                            </div>
                            <div style="flex: 1;">
                                <div style="font-weight: 500;">${activity.message}</div>
                                <div style="font-size: 0.75rem; color: #6B7280; margin-top: 0.25rem;">
                                    ${formatDate(activity.timestamp)}
                                </div>
                            </div>
                        </div>
                    `).join('');

                    document.getElementById('recent-activity').innerHTML = activityHtml || '<p>Aucune activit√© r√©cente</p>';
                }
            } catch (error) {
                console.error('Erreur chargement dashboard enseignant:', error);
                document.getElementById('recent-activity').innerHTML = '<p style="color: #EF4444;">‚ùå Erreur de chargement</p>';
            }
        }

        // Load Teacher Content
        async function loadTeacherContent() {
            try {
                const response = await fetch(`${API_BASE}/api/teacher/content`);
                const data = await response.json();

                if (data.success) {
                    const contentHtml = `
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Titre</th>
                                    <th>Mati√®re</th>
                                    <th>Niveau</th>
                                    <th>Vues</th>
                                    <th>Statut</th>
                                    <th>Derni√®re modification</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${data.data.content.map(item => `
                                    <tr>
                                        <td style="font-weight: 500;">${item.title}</td>
                                        <td>${item.subject}</td>
                                        <td>
                                            <span style="background: #F3F4F6; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.75rem;">
                                                ${item.level}
                                            </span>
                                        </td>
                                        <td style="font-weight: 600; color: #3B82F6;">${item.views}</td>
                                        <td>
                                            <span class="status-badge ${item.status}">${getStatusLabel(item.status)}</span>
                                        </td>
                                        <td style="font-size: 0.75rem; color: #6B7280;">${formatDate(item.updatedAt)}</td>
                                        <td>
                                            <button class="btn btn-secondary btn-sm" onclick="editContent('${item.id}')">‚úèÔ∏è Modifier</button>
                                        </td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    `;

                    document.getElementById('content-list').innerHTML = contentHtml;
                }
            } catch (error) {
                console.error('Erreur chargement contenu:', error);
                document.getElementById('content-list').innerHTML = '<p style="color: #EF4444;">‚ùå Erreur de chargement</p>';
            }
        }

        // Load Student Tracking
        async function loadStudentTracking() {
            try {
                const response = await fetch(`${API_BASE}/api/teacher/students`);
                const data = await response.json();

                if (data.success) {
                    const studentsHtml = `
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>√âtudiant</th>
                                    <th>Classe</th>
                                    <th>Progression</th>
                                    <th>Score Moyen</th>
                                    <th>Temps d'√©tude</th>
                                    <th>Derni√®re activit√©</th>
                                    <th>Performance</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${data.data.students.map(student => `
                                    <tr>
                                        <td>
                                            <div style="display: flex; align-items: center; gap: 0.75rem;">
                                                <div style="width: 35px; height: 35px; border-radius: 50%; background: linear-gradient(135deg, #3B82F6, #10B981); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 0.75rem;">
                                                    ${student.firstName.charAt(0)}${student.lastName.charAt(0)}
                                                </div>
                                                <div>
                                                    <div style="font-weight: 500;">${student.firstName} ${student.lastName}</div>
                                                    <div style="font-size: 0.75rem; color: #6B7280;">${student.email}</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td>${student.className}</td>
                                        <td>
                                            <div style="display: flex; align-items: center; gap: 0.5rem;">
                                                <div class="progress-bar" style="width: 80px;">
                                                    <div class="progress-fill" style="width: ${student.progressPercentage}%;"></div>
                                                </div>
                                                <span style="font-size: 0.75rem; font-weight: 600;">${student.progressPercentage}%</span>
                                            </div>
                                        </td>
                                        <td style="font-weight: 600; color: ${student.averageScore >= 80 ? '#10B981' : student.averageScore >= 60 ? '#F59E0B' : '#EF4444'};">
                                            ${student.averageScore}%
                                        </td>
                                        <td style="font-weight: 500;">${student.studyTime}h</td>
                                        <td style="font-size: 0.75rem; color: #6B7280;">${formatDate(student.lastActivity)}</td>
                                        <td>
                                            <span class="status-badge ${student.performance.toLowerCase().replace(' ', '-')}">${student.performance}</span>
                                        </td>
                                        <td>
                                            <button class="btn btn-primary btn-sm" onclick="viewStudentProfile('${student.id}')">üë§ Profil</button>
                                        </td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    `;

                    document.getElementById('student-list-table').innerHTML = studentsHtml;
                }
            } catch (error) {
                console.error('Erreur chargement √©tudiants:', error);
                document.getElementById('student-list-table').innerHTML = '<p style="color: #EF4444;">‚ùå Erreur de chargement</p>';
            }
        }

        // File Upload Handling
        function handleFileUpload(event) {
            const files = Array.from(event.target.files);
            files.forEach(file => {
                uploadedFiles.push({
                    name: file.name,
                    size: file.size,
                    type: file.type
                });
            });
            displayUploadedFiles();
        }

        function displayUploadedFiles() {
            const filesHtml = uploadedFiles.map((file, index) => `
                <div style="display: flex; align-items: center; gap: 1rem; padding: 0.5rem; background: #F3F4F6; border-radius: 6px; margin-bottom: 0.5rem;">
                    <div style="font-size: 1.5rem;">${getFileIcon(file.type)}</div>
                    <div style="flex: 1;">
                        <div style="font-weight: 500;">${file.name}</div>
                        <div style="font-size: 0.75rem; color: #6B7280;">${formatFileSize(file.size)}</div>
                    </div>
                    <button class="btn btn-secondary btn-sm" onclick="removeFile(${index})">üóëÔ∏è</button>
                </div>
            `).join('');
            
            document.getElementById('uploaded-files').innerHTML = filesHtml;
        }

        function removeFile(index) {
            uploadedFiles.splice(index, 1);
            displayUploadedFiles();
        }

        function getFileIcon(type) {
            if (type.includes('video')) return 'üé•';
            if (type.includes('audio')) return 'üéµ';
            if (type.includes('image')) return 'üñºÔ∏è';
            if (type.includes('pdf')) return 'üìÑ';
            if (type.includes('document') || type.includes('word')) return 'üìù';
            if (type.includes('presentation')) return 'üìä';
            return 'üìÅ';
        }

        function formatFileSize(bytes) {
            const sizes = ['B', 'KB', 'MB', 'GB'];
            if (bytes === 0) return '0 B';
            const i = Math.floor(Math.log(bytes) / Math.log(1024));
            return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i];
        }

        // Content Actions
        async function publishContent() {
            const contentData = {
                title: document.getElementById('content-title').value,
                subject: document.getElementById('content-subject').value,
                level: document.getElementById('content-level').value,
                duration: document.getElementById('content-duration').value,
                description: document.getElementById('content-description').value,
                files: uploadedFiles,
                notifyStudents: document.getElementById('notify-students').checked
            };

            if (!contentData.title || !contentData.description) {
                alert('‚ùå Veuillez remplir au moins le titre et la description');
                return;
            }

            try {
                const response = await fetch(`${API_BASE}/api/teacher/content`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ ...contentData, status: 'published' })
                });

                const data = await response.json();

                if (data.success) {
                    alert('‚úÖ Contenu publi√© avec succ√®s !');
                    resetContentForm();
                    loadTeacherContent();
                } else {
                    alert('‚ùå Erreur: ' + data.message);
                }
            } catch (error) {
                console.error('Erreur publication:', error);
                alert('‚ùå Erreur de connexion au serveur');
            }
        }

        async function saveAsDraft() {
            // Similar to publishContent but with status: 'draft'
            const contentData = {
                title: document.getElementById('content-title').value,
                subject: document.getElementById('content-subject').value,
                level: document.getElementById('content-level').value,
                duration: document.getElementById('content-duration').value,
                description: document.getElementById('content-description').value,
                files: uploadedFiles,
                status: 'draft'
            };

            try {
                const response = await fetch(`${API_BASE}/api/teacher/content`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(contentData)
                });

                const data = await response.json();

                if (data.success) {
                    alert('üíæ Brouillon sauvegard√© !');
                    loadTeacherContent();
                } else {
                    alert('‚ùå Erreur: ' + data.message);
                }
            } catch (error) {
                console.error('Erreur sauvegarde:', error);
                alert('‚ùå Erreur de connexion au serveur');
            }
        }

        function resetContentForm() {
            document.getElementById('content-title').value = '';
            document.getElementById('content-description').value = '';
            document.getElementById('content-duration').value = '';
            uploadedFiles = [];
            displayUploadedFiles();
        }

        // Utility Functions
        function formatDate(dateString) {
            return new Date(dateString).toLocaleDateString('fr-FR', {
                day: '2-digit',
                month: '2-digit',
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
        }

        function getStatusLabel(status) {
            const labels = {
                published: 'Publi√©',
                draft: 'Brouillon',
                pending: 'En attente',
                excellent: 'Excellent',
                good: 'Bon',
                'needs-improvement': '√Ä am√©liorer'
            };
            return labels[status] || status;
        }

        // Quick Actions
        function createQuiz() {
            alert('Cr√©ation de quiz - Fonctionnalit√© √† impl√©menter');
        }

        function startLiveClass() {
            alert('Classe en direct - Fonctionnalit√© √† impl√©menter');
        }

        function refreshActivity() {
            loadTeacherDashboard();
        }

        function editContent(contentId) {
            alert(`√âdition du contenu ${contentId} - Fonctionnalit√© √† impl√©menter`);
        }

        function viewStudentProfile(studentId) {
            alert(`Profil √©tudiant ${studentId} - Fonctionnalit√© √† impl√©menter`);
        }

        function exportStudentData() {
            alert('Export des donn√©es √©tudiants - Fonctionnalit√© √† impl√©menter');
        }

        // ========== CHARGEMENT DONN√âES R√âELLES ==========
        async function loadRealTeacherData() {
            try {
                const userDataStr = localStorage.getItem('claudyne_user');
                const token = localStorage.getItem('claudyne_token');

                if (!userDataStr || !token) {
                    console.warn('‚ö†Ô∏è Pas de donn√©es utilisateur - Redirection vers login');
                    window.location.href = '/';
                    return;
                }

                currentTeacher = JSON.parse(userDataStr);

                // Mettre √† jour l'interface
                const teacherNameEl = document.getElementById('teacher-name');
                if (teacherNameEl) {
                    teacherNameEl.textContent = `Prof. ${currentTeacher.firstName} ${currentTeacher.lastName}`;
                }

                // Mettre √† jour les champs du formulaire settings
                document.getElementById('teacherName').value = `Prof. ${currentTeacher.firstName} ${currentTeacher.lastName}`;
                document.getElementById('teacherEmail').value = currentTeacher.email;
            } catch (error) {
                console.error('‚ùå Erreur chargement donn√©es enseignant:', error);
            }
        }

        // Chargement initial
        window.addEventListener('load', function() {
            loadRealTeacherData();
            loadTeacherDashboard();
        });

        // Drag and Drop for file upload
        const fileUpload = document.querySelector('.file-upload');
        
        fileUpload.addEventListener('dragover', (e) => {
            e.preventDefault();
            fileUpload.classList.add('dragover');
        });

        fileUpload.addEventListener('dragleave', () => {
            fileUpload.classList.remove('dragover');
        });

        fileUpload.addEventListener('drop', (e) => {
            e.preventDefault();
            fileUpload.classList.remove('dragover');
            
            const files = Array.from(e.dataTransfer.files);
            files.forEach(file => {
                uploadedFiles.push({
                    name: file.name,
                    size: file.size,
                    type: file.type
                });
            });
            displayUploadedFiles();
        });

        // ============================
        // FONCTIONS PARAM√àTRES ENSEIGNANT
        // ============================

        // Fonction de d√©connexion enseignant
        function teacherLogout() {
            if (confirm('√ätes-vous s√ªr de vouloir vous d√©connecter ?')) {
                // Supprimer les donn√©es de session
                localStorage.removeItem('claudyne_teacher_token');
                localStorage.removeItem('claudyne_teacher_user');
                localStorage.removeItem('claudyne_teacher_data');

                // Rediriger vers la page de connexion
                window.location.href = '/';
            }
        }

        // Sauvegarder le profil enseignant
        async function saveTeacherProfile() {
            const profileData = {
                name: document.getElementById('teacherName').value,
                email: document.getElementById('teacherEmail').value,
                subject: document.getElementById('teacherSubject').value,
                level: document.getElementById('teacherLevel').value
            };

            try {
                const response = await fetch(`${API_BASE}/api/teacher/profile`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${localStorage.getItem('claudyne_teacher_token')}`
                    },
                    body: JSON.stringify(profileData)
                });

                const data = await response.json();
                if (data.success) {
                    alert('‚úÖ Profil mis √† jour avec succ√®s !');
                    // Mettre √† jour le nom dans la sidebar
                    document.getElementById('teacher-name').textContent = profileData.name;
                } else {
                    alert('‚ùå Erreur lors de la mise √† jour du profil : ' + data.message);
                }
            } catch (error) {
                console.error('Erreur sauvegarde profil:', error);
                alert('‚ùå Erreur lors de la sauvegarde du profil');
            }
        }

        // Changer le mot de passe enseignant
        async function changeTeacherPassword() {
            const currentPassword = document.getElementById('currentPasswordTeacher').value;
            const newPassword = document.getElementById('newPasswordTeacher').value;
            const confirmPassword = document.getElementById('confirmPasswordTeacher').value;

            // Validation
            if (!currentPassword || !newPassword || !confirmPassword) {
                alert('‚ùå Veuillez remplir tous les champs');
                return;
            }

            if (newPassword !== confirmPassword) {
                alert('‚ùå Les nouveaux mots de passe ne correspondent pas');
                return;
            }

            if (newPassword.length < 6) {
                alert('‚ùå Le nouveau mot de passe doit contenir au moins 6 caract√®res');
                return;
            }

            try {
                const response = await fetch(`${API_BASE}/api/teacher/change-password`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${localStorage.getItem('claudyne_teacher_token')}`
                    },
                    body: JSON.stringify({
                        currentPassword: currentPassword,
                        newPassword: newPassword
                    })
                });

                const data = await response.json();
                if (data.success) {
                    alert('‚úÖ Mot de passe modifi√© avec succ√®s !');
                    // Vider les champs
                    document.getElementById('currentPasswordTeacher').value = '';
                    document.getElementById('newPasswordTeacher').value = '';
                    document.getElementById('confirmPasswordTeacher').value = '';
                } else {
                    alert('‚ùå Erreur lors du changement de mot de passe : ' + data.message);
                }
            } catch (error) {
                console.error('Erreur changement mot de passe:', error);
                alert('‚ùå Erreur lors du changement de mot de passe');
            }
        }

        // Sauvegarder les pr√©f√©rences enseignant
        async function saveTeacherPreferences() {
            const preferences = {
                emailNotifications: document.getElementById('emailNotifications').checked,
                darkMode: document.getElementById('darkMode').checked,
                studentNotifications: document.getElementById('studentNotifications').checked
            };

            try {
                const response = await fetch(`${API_BASE}/api/teacher/preferences`, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${localStorage.getItem('claudyne_teacher_token')}`
                    },
                    body: JSON.stringify(preferences)
                });

                const data = await response.json();
                if (data.success) {
                    alert('‚úÖ Pr√©f√©rences sauvegard√©es avec succ√®s !');

                    // Appliquer le mode sombre si activ√©
                    if (preferences.darkMode) {
                        document.body.style.filter = 'invert(1) hue-rotate(180deg)';
                    } else {
                        document.body.style.filter = 'none';
                    }
                } else {
                    alert('‚ùå Erreur lors de la sauvegarde des pr√©f√©rences : ' + data.message);
                }
            } catch (error) {
                console.error('Erreur sauvegarde pr√©f√©rences:', error);
                alert('‚ùå Erreur lors de la sauvegarde des pr√©f√©rences');
            }
        }

    </script>
</body>
</html>